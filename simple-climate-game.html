<!DOCTYPE html>
<html>
<head>
    <title>Egyszer≈± Kl√≠maj√°t√©k</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f0f8ff; }
        .container { max-width: 800px; margin: 0 auto; }
        #map { height: 400px; border: 2px solid #333; margin: 20px 0; }
        #challenge { background: white; padding: 20px; border-radius: 10px; margin: 10px 0; }
        button { padding: 10px 20px; margin: 5px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #45a049; }
        #result { margin: 20px 0; padding: 15px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåç Egyszer≈± Kl√≠maj√°t√©k</h1>
        
        <div id="challenge">
            <h2>Hol tal√°lhat√≥ Budapest?</h2>
            <p>Kattintson a t√©rk√©pre, hogy megtippeli Budapest hely√©t!</p>
            <p><strong>Tipp:</strong> K√∂z√©p-Eur√≥p√°ban, a Duna ment√©n</p>
        </div>

        <div id="map"></div>
        
        <div>
            <button onclick="newGame()">√öj j√°t√©k</button>
            <button onclick="showAnswer()">Mutasd a v√°laszt</button>
        </div>
        
        <div id="result"></div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        let map = L.map('map').setView([54.5, 15.0], 4);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
        
        const budapest = [47.5, 19.0];
        let guessMarker = null;
        
        map.on('click', function(e) {
            // Remove previous guess
            if (guessMarker) {
                map.removeLayer(guessMarker);
            }
            
            // Add guess marker
            guessMarker = L.marker(e.latlng).addTo(map);
            
            // Calculate distance
            const distance = Math.round(L.latLng(budapest).distanceTo(e.latlng) / 1000);
            
            let resultText = 'T√°vols√°g Budapestt≈ël: ' + distance + ' km<br>';
            let resultClass = 'info';
            
            if (distance < 50) {
                resultText += 'Kiv√°l√≥! Nagyon k√∂zel!';
                resultClass = 'success';
            } else if (distance < 200) {
                resultText += 'J√≥! K√∂zel j√°r!';
                resultClass = 'success';
            } else if (distance < 500) {
                resultText += 'K√∂zepes. Pr√≥b√°lja √∫jra!';
            } else {
                resultText += 'T√°vol van. Gondoljon K√∂z√©p-Eur√≥p√°ra!';
            }
            
            document.getElementById('result').innerHTML = resultText;
            document.getElementById('result').className = resultClass;
        });
        
        function newGame() {
            if (guessMarker) {
                map.removeLayer(guessMarker);
                guessMarker = null;
            }
            document.getElementById('result').innerHTML = '';
            document.getElementById('result').className = '';
        }
        
        function showAnswer() {
            L.marker(budapest).addTo(map)
                .bindPopup('Budapest, Magyarorsz√°g')
                .openPopup();
            map.setView(budapest, 8);
        }
    </script>
</body>
</html>