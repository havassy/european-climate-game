<!DOCTYPE html>
<html>
<head>
    <title>Minimal Climate Game Test</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #map { height: 300px; border: 2px solid blue; margin: 10px 0; }
        #chart { height: 200px; border: 2px solid red; margin: 10px 0; }
        button { padding: 10px; margin: 5px; }
    </style>
</head>
<body>
    <h1>Minimal Test</h1>
    <p>Leaflet CSS loaded: <span id="css-status">checking...</span></p>
    <p>Leaflet JS loaded: <span id="js-status">checking...</span></p>
    <p>Chart.js loaded: <span id="chart-status">checking...</span></p>
    
    <div id="map">Térkép betöltése...</div>
    <div id="chart">Diagram betöltése...</div>
    
    <button onclick="testMap()">Térkép teszt</button>
    <button onclick="testChart()">Diagram teszt</button>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/chart.js"></script>
    <script>
        // Ellenőrizze a könyvtárak betöltését
        setTimeout(() => {
            document.getElementById('css-status').textContent = 
                document.querySelector('link[href*="leaflet"]') ? 'OK' : 'FAILED';
            
            document.getElementById('js-status').textContent = 
                typeof L !== 'undefined' ? 'OK' : 'FAILED';
            
            document.getElementById('chart-status').textContent = 
                typeof Chart !== 'undefined' ? 'OK' : 'FAILED';
        }, 1000);

        function testMap() {
            try {
                const map = L.map('map').setView([47.5, 19.0], 6);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);
                L.marker([47.5, 19.0]).addTo(map).bindPopup('Test marker');
                console.log('Map test successful');
            } catch (error) {
                console.error('Map test failed:', error);
                document.getElementById('map').innerHTML = 'Map error: ' + error.message;
            }
        }

        function testChart() {
            try {
                const ctx = document.createElement('canvas');
                document.getElementById('chart').innerHTML = '';
                document.getElementById('chart').appendChild(ctx);
                
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar'],
                        datasets: [{
                            label: 'Test',
                            data: [1, 2, 3],
                            borderColor: 'red'
                        }]
                    }
                });
                console.log('Chart test successful');
            } catch (error) {
                console.error('Chart test failed:', error);
                document.getElementById('chart').innerHTML = 'Chart error: ' + error.message;
            }
        }
    </script>
</body>
</html>